!function(I){var g={};function n(C){if(g[C])return g[C].exports;var e=g[C]={i:C,l:!1,exports:{}};return I[C].call(e.exports,e,e.exports,n),e.l=!0,e.exports}n.m=I,n.c=g,n.d=function(I,g,C){n.o(I,g)||Object.defineProperty(I,g,{enumerable:!0,get:C})},n.r=function(I){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(I,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(I,"__esModule",{value:!0})},n.t=function(I,g){if(1&g&&(I=n(I)),8&g)return I;if(4&g&&"object"==typeof I&&I&&I.__esModule)return I;var C=Object.create(null);if(n.r(C),Object.defineProperty(C,"default",{enumerable:!0,value:I}),2&g&&"string"!=typeof I)for(var e in I)n.d(C,e,function(g){return I[g]}.bind(null,e));return C},n.n=function(I){var g=I&&I.__esModule?function(){return I.default}:function(){return I};return n.d(g,"a",g),g},n.o=function(I,g){return Object.prototype.hasOwnProperty.call(I,g)},n.p="",n(n.s=0)}([function(module,__webpack_exports__,__webpack_require__){"use strict";eval('__webpack_require__.r(__webpack_exports__);\n\n// CONCATENATED MODULE: ./src/auth.js\n/* harmony default export */ var auth = ({\n    initiateLogin: function(provider) {\n        firebase.auth().getRedirectResult().then(function (result) {\n            if (result.credential) {\n                window.fbuser = result.user;\n                database.ref(\'users/\' + window.fbuser.uid).set({\n                    gamma: 0,\n                    photo: ""\n                });\n            } else {\n                firebase.auth().signInWithRedirect(provider);\n            }\n        }).catch(function (error) {\n            console.log(error);\n        });\n    }\n});\n\n\n// CONCATENATED MODULE: ./src/index.js\n\n\n\ndocument.addEventListener(\'DOMContentLoaded\', function () {\n    const provider = new firebase.auth.GoogleAuthProvider();\n    auth.initiateLogin(provider);\n\n    const phoneElements = {};\n\n    const initDbListener = function () {\n        firebase.database().ref().on("value", function (snapshot) {\n            let userOrientations = snapshot.val().users;\n            for (var key in userOrientations) {\n                phoneElements[key].style.transform =\n                    "rotateZ(1deg) " +\n                    "rotateX(45deg) " +\n                    "rotateY(" + (userOrientations[key].gamma) + "deg) " +\n                    "skew(-3deg)";\n                phoneElements[key].style.backgroundImage = "url(\'" + userOrientations[key].photo + "\')";\n            }\n        }, function (errorObject) {\n            console.log("The read failed: " + errorObject.code);\n        });\n    }\n\n    const initDbWriter = () => {\n        window.addEventListener("deviceorientation", function (event) {\n            if (window.fbuser.uid) {\n                firebase.database().ref(\'users/\' + window.fbuser.uid).set({\n                    gamma: event.gamma,\n                    photo: window.fbuser.photoURL\n                });\n            }\n        });\n    }\n\n    const addPhonesToPage = () => {\n        firebase.database().ref(\'/users\').once(\'value\').then(function (snapshot) {\n            let users = snapshot.val();\n            for (var key in users) {\n                let newDiv = document.createElement("div");\n                newDiv.classList.add("phone");\n                newDiv.setAttribute("id", key);\n                document.body.appendChild(newDiv);\n                phoneElements[key] = newDiv;\n            }\n            initDbListener();\n        });\n    }\n\n    addPhonesToPage();\n    initDbWriter();\n});//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvYXV0aC5qcz8xYWI2Iiwid2VicGFjazovLy8uL3NyYy9pbmRleC5qcz9iNjM1Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7OztBQUFlO0FBQ2Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakIsYUFBYTtBQUNiO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQSxTQUFTO0FBQ1Q7QUFDQSxDQUFDOzs7OztBQ2Y0Qjs7QUFFN0I7QUFDQTtBQUNBLElBQUksSUFBSTs7QUFFUjs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0EsU0FBUztBQUNUOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBLFNBQVM7QUFDVDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUOztBQUVBO0FBQ0E7QUFDQSxDQUFDIiwiZmlsZSI6IjAuanMiLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgZGVmYXVsdCB7XG4gICAgaW5pdGlhdGVMb2dpbjogZnVuY3Rpb24ocHJvdmlkZXIpIHtcbiAgICAgICAgZmlyZWJhc2UuYXV0aCgpLmdldFJlZGlyZWN0UmVzdWx0KCkudGhlbihmdW5jdGlvbiAocmVzdWx0KSB7XG4gICAgICAgICAgICBpZiAocmVzdWx0LmNyZWRlbnRpYWwpIHtcbiAgICAgICAgICAgICAgICB3aW5kb3cuZmJ1c2VyID0gcmVzdWx0LnVzZXI7XG4gICAgICAgICAgICAgICAgZGF0YWJhc2UucmVmKCd1c2Vycy8nICsgd2luZG93LmZidXNlci51aWQpLnNldCh7XG4gICAgICAgICAgICAgICAgICAgIGdhbW1hOiAwLFxuICAgICAgICAgICAgICAgICAgICBwaG90bzogXCJcIlxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBmaXJlYmFzZS5hdXRoKCkuc2lnbkluV2l0aFJlZGlyZWN0KHByb3ZpZGVyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycm9yKSB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhlcnJvcik7XG4gICAgICAgIH0pO1xuICAgIH1cbn1cblxuIiwiXG5pbXBvcnQgYXV0aCBmcm9tICcuL2F1dGguanMnO1xuXG5kb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdET01Db250ZW50TG9hZGVkJywgZnVuY3Rpb24gKCkge1xuICAgIGNvbnN0IHByb3ZpZGVyID0gbmV3IGZpcmViYXNlLmF1dGguR29vZ2xlQXV0aFByb3ZpZGVyKCk7XG4gICAgYXV0aC5pbml0aWF0ZUxvZ2luKHByb3ZpZGVyKTtcblxuICAgIGNvbnN0IHBob25lRWxlbWVudHMgPSB7fTtcblxuICAgIGNvbnN0IGluaXREYkxpc3RlbmVyID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBmaXJlYmFzZS5kYXRhYmFzZSgpLnJlZigpLm9uKFwidmFsdWVcIiwgZnVuY3Rpb24gKHNuYXBzaG90KSB7XG4gICAgICAgICAgICBsZXQgdXNlck9yaWVudGF0aW9ucyA9IHNuYXBzaG90LnZhbCgpLnVzZXJzO1xuICAgICAgICAgICAgZm9yICh2YXIga2V5IGluIHVzZXJPcmllbnRhdGlvbnMpIHtcbiAgICAgICAgICAgICAgICBwaG9uZUVsZW1lbnRzW2tleV0uc3R5bGUudHJhbnNmb3JtID1cbiAgICAgICAgICAgICAgICAgICAgXCJyb3RhdGVaKDFkZWcpIFwiICtcbiAgICAgICAgICAgICAgICAgICAgXCJyb3RhdGVYKDQ1ZGVnKSBcIiArXG4gICAgICAgICAgICAgICAgICAgIFwicm90YXRlWShcIiArICh1c2VyT3JpZW50YXRpb25zW2tleV0uZ2FtbWEpICsgXCJkZWcpIFwiICtcbiAgICAgICAgICAgICAgICAgICAgXCJza2V3KC0zZGVnKVwiO1xuICAgICAgICAgICAgICAgIHBob25lRWxlbWVudHNba2V5XS5zdHlsZS5iYWNrZ3JvdW5kSW1hZ2UgPSBcInVybCgnXCIgKyB1c2VyT3JpZW50YXRpb25zW2tleV0ucGhvdG8gKyBcIicpXCI7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sIGZ1bmN0aW9uIChlcnJvck9iamVjdCkge1xuICAgICAgICAgICAgY29uc29sZS5sb2coXCJUaGUgcmVhZCBmYWlsZWQ6IFwiICsgZXJyb3JPYmplY3QuY29kZSk7XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIGNvbnN0IGluaXREYldyaXRlciA9ICgpID0+IHtcbiAgICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJkZXZpY2VvcmllbnRhdGlvblwiLCBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgICAgIGlmICh3aW5kb3cuZmJ1c2VyLnVpZCkge1xuICAgICAgICAgICAgICAgIGZpcmViYXNlLmRhdGFiYXNlKCkucmVmKCd1c2Vycy8nICsgd2luZG93LmZidXNlci51aWQpLnNldCh7XG4gICAgICAgICAgICAgICAgICAgIGdhbW1hOiBldmVudC5nYW1tYSxcbiAgICAgICAgICAgICAgICAgICAgcGhvdG86IHdpbmRvdy5mYnVzZXIucGhvdG9VUkxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgY29uc3QgYWRkUGhvbmVzVG9QYWdlID0gKCkgPT4ge1xuICAgICAgICBmaXJlYmFzZS5kYXRhYmFzZSgpLnJlZignL3VzZXJzJykub25jZSgndmFsdWUnKS50aGVuKGZ1bmN0aW9uIChzbmFwc2hvdCkge1xuICAgICAgICAgICAgbGV0IHVzZXJzID0gc25hcHNob3QudmFsKCk7XG4gICAgICAgICAgICBmb3IgKHZhciBrZXkgaW4gdXNlcnMpIHtcbiAgICAgICAgICAgICAgICBsZXQgbmV3RGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICAgICAgICAgICAgICBuZXdEaXYuY2xhc3NMaXN0LmFkZChcInBob25lXCIpO1xuICAgICAgICAgICAgICAgIG5ld0Rpdi5zZXRBdHRyaWJ1dGUoXCJpZFwiLCBrZXkpO1xuICAgICAgICAgICAgICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQobmV3RGl2KTtcbiAgICAgICAgICAgICAgICBwaG9uZUVsZW1lbnRzW2tleV0gPSBuZXdEaXY7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpbml0RGJMaXN0ZW5lcigpO1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBhZGRQaG9uZXNUb1BhZ2UoKTtcbiAgICBpbml0RGJXcml0ZXIoKTtcbn0pOyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///0\n')}]);